<!DOCTYPE html>
<html lang="en">

<head>
    <title>An Empty World</title>
</head>

<body>
    <script>
        function checkDarkMode() { // this code is here so it loads as fast as possible, to reduce page flickering on refresh
            const theme = localStorage["theme"];
            var hours = new Date().getHours();
            if (theme === "dark" || theme != "light" && hours >= 15 || hours < 8) {
                document.body.classList.add("dark");
            } else {
                document.body.classList.remove("dark");
            }
        }
        checkDarkMode();
    </script>

    <div class="sideContainer" id="messagesContainer">
        <h2 id="messagesHeader" class="header">Messages</h2>
        <div id="messages"></div>
    </div>

    <div class="row" container>
        <div class="auto-column" id="progressContainer">
            <span style="display: inline-flex">
                <h3 id="name">K0ng</h3>
                <span style="display: inline-flex">
                    <h4 style="padding-bottom:7px; margin-right: 2px;" class="subheader" id="levelSubheadr">Level:</h4>
                    <h5 style="padding-top:6px;padding-right:4px;" id="lvl">0</h5>
                </span>
                &nbsp;| &nbsp;
                <h4 style="padding-top:3px;">Stamina:</h4>
                <h5 style="padding-top:5px;" id="staminaAmount">0</h5>
            </span>
            <br />
    
            XP:
            <div class="progress-bar">
                <span style="width: 0px;" id="progressXp"></span>
            </div>
    
            Stamina:
            <div class="progress-bar">
                <span style="width: 0px;" id="progressStamina"></span>
            </div>
        </div>
        
        <fieldset class="auto-column container" id="effectsContainer">
            <legend>
                <h2>Effects</h2>
            </legend>
            <div id="effects"></div>
        </fieldset>
        
        <fieldset class="auto-column container" id="achievementsContainer">
            <legend>
                <h2>Achievements</h2>
            </legend>
            <div id="achievements"></div>
        </fieldset>
    </div>

    <fieldset id="inventoryContainer" class="container">
        <legend>
            <h2 id="inventoryHeader">Inventory</h2>
        </legend>
        <div class="row">
            <div class="column">
                <div id="inventory"></div>
            </div>
            <div class="column">
                <div id="itemDetails"></div>
            </div>
        </div>
    </fieldset>
    
    <fieldset id="activitiesContainer" class="container">
        <legend>
            <h2>Activities</h2>
        </legend>
        <div id="activities"></div>
    </fieldset>

    <fieldset id="storeContainer" class="container">
        <legend>
            <h2>Store</h2>
        </legend>
        <div id="store"></div>
    </fieldset>

    <fieldset id="combatContainer" class="container">
        <legend>
            <h2>Combat</h2>
        </legend>
        <div class="row">
            <div class="auto-column equipment" id="equipment-chooser">
                <div id="equipment-chooser-selector"></div>
                <div id="equipment-chooser-selected"></div>
            </div>
            <div class="auto-column equipment" id="equipment"></div>
            <div class="auto-column">
                <div id="playerStats">
                    <h4 style="text-decoration: underline;" id="playerHeader">Player</h4>
                    <div class="progress-bar"><span id="playerHealthProgress" style="width: 100%;"></span></div><br />
                    <div class="progress-bar"><span id="playerAttackProgress" style="width: 0%;"></span></div>
                    <p id="playerHealth">Health: <span id="playerHealthValue">100/100</span></p>
                    <p id="playerAttack">Attack: <span id="playerAttackValue">1</span></p>
                    <p id="playerDefense">Defense: <span id="playerDefenseValue">1</span></p>
                    <p id="playerSpeed">Speed: <span id="playerSpeedValue">1</span></p>
                </div>
            </div>
            <div class="auto-column combat-actions" style="width: 100px">
                <div>
                    <button style="display: none;" id="attackButton" class="button"
                        onclick="combat.startCombat()">Attack</button><br />
                    <button style="display: none;" id="fleeButton" class="button"
                        onclick="combat.doFlee()">Flee</button><br />
                    <button style="display: none;" id="defendButton" class="button"
                        onclick="combat.defend()">Defend</button><br />
                    <button style="display: none;" id="specialButton" class="button"
                        onclick="combat.special()">Special</button>
                </div>
            </div>
            <div class="auto-column">
                <select id="opponentSelector">
                    <option value="">Select an opponent</option>
                    <option value="Goblin">Goblin</option>
                    <option value="Troll">Troll</option>
                    <option value="Skeleton">Skeleton</option>
                    <option value="Knight">Knight</option>
                    <option value="King">King</option>
                </select>
                <button id="fightButton" class="button"
                    onclick="combat.selectEnemy(document.getElementById('opponentSelector').value)">Fight</button>
                <div id="enemyStats">
                    <h4 style="text-decoration: underline;" id="enemyHeader">Enemy</h4>
                    <div class="progress-bar"><span id="enemyHealthProgress" style="width: 0%;"></span></div><br />
                    <div class="progress-bar"><span id="enemyAttackProgress" style="width: 0%;"></span></div>
                    <p id="health">Health: <span id="healthValue">0</span></p>
                    <p id="attack">Attack: <span id="attackValue">0</span></p>
                    <p id="defense">Defense: <span id="defenseValue">0</span></p>
                    <p id="speed">Speed: <span id="speedValue">0</span></p>
                </div>
            </div>
        </div>
    </fieldset>

    <fieldset id="craftingContainer" class="container">
        <legend>
            <h2 style="display: inline">Crafting</h2>
            <h4 style="display: inline;"> (Level <span id="craftingLevelValue">1)</span></h4>
        </legend>

        <div class="row">
            <div class="column" id="craftables"></div>
            <div class="column" id="craftable-details"></div>
        </div>
    </fieldset>

    <footer id="footerContainer" class="footer">
        <a href="https://github.com/Winnrman/An-Empty-World" target="_blank" rel="noopener noreferrer">github</a>
        <a onclick="saveData()">save</a>
        <a>share</a>
        <a onclick="resetData()">restart</a>
        <a id="switchTheme" onClick="settings.switchTheme()"></a>
    </footer>
</body>

</html>